<!DOCTYPE html>
<html lang="en-us">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.64.0" />

    
    
    

<title>Emacsclient usage on a GNU/Linux system • draptik</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Emacsclient usage on a GNU/Linux system"/>
<meta name="twitter:description" content="Short instructions on how to setup Emacs using the Emacs Server/Emacs Client system on a GNU/Linux machine.
This post is intended for people familiar with GNU/Emacs.
Requirements:
GNU/Emacs 23 or greater (for Ubuntu get the Emacs PPA: https://launchpad."/>

<meta property="og:title" content="Emacsclient usage on a GNU/Linux system" />
<meta property="og:description" content="Short instructions on how to setup Emacs using the Emacs Server/Emacs Client system on a GNU/Linux machine.
This post is intended for people familiar with GNU/Emacs.
Requirements:
GNU/Emacs 23 or greater (for Ubuntu get the Emacs PPA: https://launchpad." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://draptik.github.io/posts/2009/10/23/emacsclient-usage-on-a-gnulinux-system/" />
<meta property="article:published_time" content="2009-10-23T21:31:02+00:00" />
<meta property="article:modified_time" content="2009-10-23T21:31:02+00:00" /><meta property="og:site_name" content="draptik title" />


    


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">








<link rel="stylesheet" href="/scss/hyde-hyde.92c66d107d7b219f0792cfd67223179af884b03f386ac46894f9f735932bbca3.css" integrity="sha256-ksZtEH17IZ8Hks/WciMXmviEsD84asRolPn3NZMrvKM=">


<link rel="stylesheet" href="/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    
    

</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://draptik.github.io/">draptik</a>
      </span>
      
        
        
        
        <div class="author-image">
          <img src="https://draptik.github.io/images/ant.jpg" alt="Author Image" class="img--circle img--headshot element--center">
        </div>
        
      
      
      <p class="site__description">
         mostly tech stuff 
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">draptik</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/posts/">
						<span>Posts</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/talks/">
						<span>Talks</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/about/">
						<span>About</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/impressum/">
						<span>Impressum</span>
					</a>
				</li>
			 
		
	</ul>
</div>

        <section class="social">
	
	<a href="https://twitter.com/drechsler" rel="me"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a>
	
	
	
	<a href="https://github.com/draptik" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	<a href="https://linkedin.com/in/patrick-drechsler-985a2911" rel="me"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	<a href="https://www.xing.com/profile/Patrick_Drechsler" rel="me"><i class="fab fa-xing fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	<a href="mailto:blog@pdrechsler.de" rel="me"><i class="fas fa-at fa-lg" aria-hidden="true"></i></a>
	
</section>

      </div>
    </div>
    


  </div>
</div>

        <div class="content container">
            
    
<article>
  <header>
    <h1>Emacsclient usage on a GNU/Linux system</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> Oct 23, 2009
    
    
    
      
      
          in
          
          
              <a class="badge badge-category" href="/categories/linux">LINUX</a>
              
          
      
    
    
    
    <br/>
    <i class="fas fa-clock"></i> 4 min read
</div>


  </header>
  
  
  <div class="post">
    <p>Short instructions on how to setup Emacs using the Emacs Server/Emacs Client system on a GNU/Linux machine.</p>
<p>This post is intended for people familiar with GNU/Emacs.</p>
<p><strong>Requirements:</strong></p>
<p>GNU/Emacs 23 or greater (for Ubuntu get the Emacs PPA: <a href="http://https://launchpad.net/~ubuntu-elisp/+archive/ppa">https://launchpad.net/~ubuntu-elisp/+archive/ppa</a>)</p>
<p><strong>Files to edit:</strong></p>
<p><code>~/.emacs</code>
<code>~/.bashrc</code></p>
<p><strong>System settings using Gnome:</strong></p>
<p>System -&gt; Einstellungen -&gt; Startprogramme</p>
<p><strong>For the impatient:</strong></p>
<p>Add this to your <code>~/.bashrc</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">export ALTERNATE_EDITOR<span style="color:#f92672">=</span>emacs EDITOR<span style="color:#f92672">=</span>emacsclient VISUAL<span style="color:#f92672">=</span>emacsclient
<span style="color:#75715e">## you can always use the command &#34;emacs&#34; instead of &#34;emacsclient -c&#34;</span>
alias emacs<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;emacsclient -c&#39;</span>
</code></pre></div><p>Add this to your <code>~/.emacs</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#f92672">(</span>server-start<span style="color:#f92672">)</span>
</code></pre></div><p>Add this to your system startup options:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">/path/to/your/emacs --daemon
</code></pre></div><p>ie:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">/usr/bin/emacs --daemon
</code></pre></div><p>Gnome panel starter:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">/usr/bin/emacsclient -c<span style="color:#960050;background-color:#1e0010">&#39;</span>
</code></pre></div><p><strong>Detailed instructions</strong></p>
<p>Starting Emacs from scratch will always load your init file (default: ~/.emacs). Loading this file can take a few seconds if your init file has grown over the years and if you load many external libraries.</p>
<p>To decrease the load time for situations like this the GNU/Emacs folks have developed the GNU/Emacs daemon and the GNU/Emacs server-client concept.</p>
<p>This concept allows you to attach to an already running session. No matter if you are currently using X or  a TTY session!</p>
<p>Just try it (without changing any settings):</p>
<ol>
<li>
<p>Start GNU/Emacs from a shell under X: <code>$ emacs</code></p>
</li>
<li>
<p>Now start the Emacs server from within Emacs: <code>M-x server-start</code></p>
</li>
<li>
<p>Open a file from within Emacs (it does not have to exist): <code>C-x C-f ~/deleteme.txt</code></p>
</li>
<li>
<p>Because we started the Emacs server, we can now start the Emacs client with close-to-zero load time:</p>
</li>
<li>
<p>Starting the Emacs client from a new shell: <code>$ emacsclient deleteme-from-shell.txt</code></p>
</li>
</ol>
<p>This will open the file &ldquo;deleteme-from-shell.txt&rdquo; in your running Emacs session. Cool, isn&rsquo;t it?</p>
<p><strong>IMPORTANT:</strong> To close the attached Emacs client without killing the Emacs server you have to use &ldquo;C-x #&rdquo; instead of &ldquo;C-x C-c&rdquo;!</p>
<ol start="6">
<li>Starting the Emacs client from a new shell AND opening a new Emacs frame:Same as step 5, but use &ldquo;-c&rdquo;: <code>$ emacsclient -c deleteme-from-shell.txt</code></li>
</ol>
<p>Again: Close the client using &ldquo;C-x #&quot;! This will close the frame (=window) while keeping the server running.</p>
<ol start="7">
<li>Starting the Emacs client from a new shell AND opening it within the current shell:Same as step 5, but use &ldquo;-t&rdquo;: <code>$ emacsclient -t deleteme-from-shell.txt</code></li>
</ol>
<p>This will also work for a true TTY session. An example of a true TTY session can be achieved by switching to TTY-0 (Ctrl+Alt+F1; to return to your graphical display: Ctrl+Alt+F7). Try it:</p>
<p>Ctrl+Alt+F1</p>
<p>Login with username and password, then type</p>
<p><code>$ emacsclient -t deleteme-from-shell.txt</code></p>
<p>We are still attached to the same session! Cool!</p>
<p>Switch back to your graphical display: Ctrl+Alt+F7</p>
<ol start="8">
<li>
<p>The only drawback so far is that we had to start the Emacs server manually from within an Emacs session using &ldquo;M-x server-start&rdquo;. Otherwise &ldquo;emacsclient&rdquo; will complain that it has no server to attach to. So let&rsquo;s include this feature in our Emacs init file (~/.emacs). Add this to your init file: <code>(server-start)</code></p>
</li>
<li>
<p>The previous step still requires us to start Emacs before we can invoke emacsclient. Let&rsquo;s tell our default shell (ie Bash) to use &ldquo;emacsclient&rdquo; as default. If that doesn&rsquo;t work, our shell should use &ldquo;emacs&rdquo;. Add the following the your ~/.bashrc: <code>export ALTERNATE_EDITOR=emacs EDITOR=emacsclient VISUAL=emacsclient</code></p>
</li>
<li>
<p>I prefer to to only use a single command, &ldquo;emacs&rdquo;, and &ldquo;the computer&rdquo; should figure out
IF an Emacs server is running (then I&rsquo;ll use &ldquo;emacsclient&rdquo; to attach to a running Emacs server)</p>
</li>
</ol>
<p>OR if I have to start a new Emacs session (which, in turn, starts an Emacs server).</p>
<p>You can always use the command <code>emacs</code> instead of <code>emacsclient -c</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">alias emacs<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;emacsclient -c&#39;</span>
</code></pre></div><ol start="11">
<li>Sugar: To be sure to have an Emacs server running, we can add the Emacs daemon to our system startup options. How to add scripts to your startup options differs strongly between different Linux systems. Here&rsquo;s how I did it (using Gnome):&ldquo;System&rdquo; -&gt; &ldquo;Einstellungen&rdquo; -&gt; &ldquo;Startprogramme&rdquo;(in English this should correspond to something like &ldquo;System&rdquo; -&gt; &ldquo;Settings&rdquo; -&gt; &ldquo;Start programs&rdquo;)I added a new entry with the following content: <code>/path/to/your/emacs --daemon</code></li>
</ol>
<p>ie:</p>
<p><code>/usr/bin/emacs --daemon</code></p>
<ol start="12">
<li>Further sugar: To use a Gnome panel starter, just add this program parameter to the starter properties: <code>/usr/bin/emacsclient -c</code></li>
</ol>

  </div>
  

<div class="navigation navigation-single">
    
    <a href="/posts/2009/07/31/eclipsesubclipse-asks-for-ssh-confirmation-solved/" class="navigation-prev">
      <i aria-hidden="true" class="fa fa-chevron-left"></i>
      <span class="navigation-tittle">Eclipse3.5/Subclipse1.6.x asks for unnecessary SSH confirmation and details (solved)</span>
    </a>
    
    
    <a href="/posts/2009/12/08/executing-a-script-after-mounting-a-truecrypt-partition-on-ubuntu-9-10-karmic-koala/" class="navigation-next">
      <span class="navigation-tittle">Executing a script after mounting a TrueCrypt partition on Ubuntu 9.10 (Karmic Koala)</span>
      <i aria-hidden="true" class="fa fa-chevron-right"></i>
    </a>
    
</div>


  

  
    
        <div id="disqus_thread"></div>
<script type="text/javascript">
    

    (function () {
    if (location.hostname === "localhost" ||
      location.hostname === "127.0.0.1" ||
      location.hostname === "") {
      return;
    }
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    var disqus_shortname = 'draptik';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || 
      document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<noscript>
  Please enable JavaScript to view the
  <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by
  <span class="logo-disqus">Disqus</span>
</a>

    


</article>


        </div>
        
    

  
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-65991503-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


<script defer src="https://use.fontawesome.com/releases/v5.5.0/js/all.js" integrity="sha384-GqVMZRt5Gn7tB9D9q7ONtcp4gtHIUEW/yG7h98J7IpE3kpi+srfFyyB/04OV6pG0" crossorigin="anonymous"></script>


    
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/fsharp.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/java.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/bash.min.js"></script>
            
        
    
    <script type="text/javascript">
        
        hljs.configure({languages: ["fsharp, java, bash"]});
        
        hljs.initHighlightingOnLoad();
    </script>
    




    



    </body>
</html>
