
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>draptik</title>
  <meta name="author" content="Patrick Drechsler">

  
  <meta name="description" content="Enable code completion (IntelliSense) in Visual Studio by copying the XSD files from NHibernate to your Visual Studio&rsquo;s XML folder. For example &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://draptik.github.io/blog/page/6">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="draptik" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
   <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-65991503-1', 'auto');
    ga('send', 'pageview');

  </script>


</head>

<body    class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">draptik</a></h1>
  
    <h2>mostly tech stuff</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:draptik.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/talks">Talks</a></li>
  <li><a href="/about">About Me</a></li>
  <li><a href="/impressum">Impressum</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/12/08/nhibernate-code-completion-intellisense-for-visual-studio/">NHibernate Code Completion (IntelliSense) for Visual Studio</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-12-08T21:47:42+00:00" pubdate data-updated="true">Dec 8<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Enable code completion (IntelliSense) in Visual Studio by copying the XSD files from NHibernate to your Visual Studio&rsquo;s XML folder.</p>

<p>For example (NHibernate 2.0.1):</p>

<p>Files to copy:</p>

<p><code>${nhibernate-location}\NHibernate\2.0.1\nhibernate-configuration.xsd
${nhibernate-location}\NHibernate\2.0.1\nhibernate-mapping.xsd
</code></p>

<p>Destination:</p>

<p><code>C:\Programme\Microsoft Visual Studio 10.0\Xml\Schemas</code></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/11/02/emacs-murrine_style_draw_box-assertion-height-1-failed/">Emacs: Murrine_style_draw_box: Assertion `height >= -1&#8217; Failed</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-11-02T23:59:09+00:00" pubdate data-updated="true">Nov 2<span>nd</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This nasty bug has been around for over a year: Calling Emacs on Ubuntu from the console outputs</p>

<p><code>murrine_style_draw_box: assertion</code>height >= -1&#8217; failed`</p>

<p>after <em>every action</em> within Emacs.</p>

<p>The solution is simple, but has not been integrated in the Ubuntu repository yet.</p>

<p>Here it is:</p>

<p>In the file</p>

<p><code>/usr/share/themes/Ambiance/gtk-2.0/gtkrc</code></p>

<p>change</p>

<p><code>GtkRange::trough-under-steppers = 0</code></p>

<p>to</p>

<p><code>GtkRange::trough-under-steppers = 1</code></p>

<p>For details see <a href="https://bugs.launchpad.net/ubuntu/+source/emacs23/+bug/538541">Bug #538541</a>, <a href="https://bugs.launchpad.net/ubuntu/+source/emacs-snapshot/+bug/550532">Bug #550532</a> and ﻿<a href="http://thehacklist.blogspot.com/2010/06/resolving-murrinestyledrawbox-assertion.html">Resolving &ldquo;murrine_style_draw_box: assertion `height >= -1&#8217;&rdquo;</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/08/20/using-nunit-with-visual-studio-express/">Using NUnit With Visual Studio Express</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-08-20T00:08:36+00:00" pubdate data-updated="true">Aug 20<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Since Microsoft&rsquo;s <strong>Visual Studio Express</strong> edition does not allow installation of any plugins anymore (f.ex. <a href="http://www.testdriven.net/">TestDriven.Net</a>), here is a quick workaround to get <a href="http://www.nunit.org/">NUnit</a>-GUI working. Add this to your Post-Build section of your Project settings:</p>

<p><code>
copy /Y "$(ProjectDir)App.config" "$(TargetDir)$(TargetFileName).config"
</code></p>

<p>For more details please consult <a href="http://codebetter.com/blogs/darrell.norton/archive/2005/05/13/63169.aspx">http://codebetter.com/blogs/darrell.norton/archive/2005/05/13/63169.aspx</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/06/25/praise-for-railstutorial-org/">Praise for Railstutorial.org</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-06-25T20:56:42+00:00" pubdate data-updated="true">Jun 25<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A couple of weeks back I discovered a great tutorial on Ruby on Rails by Michael Hartl at ﻿﻿<a href="http://www.railstutorial.org">http://www.railstutorial.org</a></p>

<p>The tutorial takes you through the steps of building a <a href="http://twitter.com/">Twitter</a>-like application (not a client!) from scratch. Aside from learning Ruby on Rails, this tutorial also teaches other useful technologies, techniques and best practices, such as:</p>

<ul>
<li><p><a href="http://en.wikipedia.org/wiki/Behavior_Driven_Development">Behaviour driven development</a> (BDD) using <a href="http://rspec.info/">RSpec</a> for unit, integration and functional testing</p></li>
<li><p>Version control using <a href="http://git-scm.com/">Git</a></p></li>
<li><p>Deployment using <a href="http://heroku.com/">Heroku</a></p></li>
<li><p>Basics of web design (CSS, Ajax)</p></li>
<li><p>Setting up a database (the tutorial uses the lightweight SQLite3 format, but this can be ported to &lsquo;real&rsquo; databases quite easily with Rails)</p></li>
<li><p>Generating fake data for the test/staging database as well as the unit testing database</p></li>
</ul>


<p><a href="http://www.dwheeler.com/sloccount/">sloccount</a> (SLOC: source lines of code) for the complete tutorial&rsquo;s source code:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>sloccount .
</span><span class='line'>...
</span><span class='line'>SLOC    Directory       SLOC-by-Language <span class="o">(</span>Sorted<span class="o">)</span>
</span><span class='line'>1182    spec            <span class="nv">ruby</span><span class="o">=</span>1182
</span><span class='line'>361     app             <span class="nv">ruby</span><span class="o">=</span>361
</span><span class='line'>167     vendor          <span class="nv">ruby</span><span class="o">=</span>167
</span><span class='line'>141     config          <span class="nv">ruby</span><span class="o">=</span>141
</span><span class='line'>109     db              <span class="nv">ruby</span><span class="o">=</span>109
</span><span class='line'>35      script          <span class="nv">ruby</span><span class="o">=</span>35
</span><span class='line'>...
</span></code></pre></td></tr></table></div></figure>


<p>How to read these results?</p>

<ul>
<li><p>app: The actual application is less than 400 lines of code (this even includes the generated HTML)! Try that using Java or ASP.NET&hellip; ;&ndash;)</p></li>
<li><p>spec: Tests are almost 4 times the size of the actual code (~1200 lines). These tests include unit, integration and functional tests!</p></li>
<li><p>Most of the remaining code is auto-generated Rails code.</p></li>
</ul>


<p>You can get my commented sources from <a href="http://github.com">GitHub</a> at <a href="http://github.com/draptik/railstutorial">http://github.com/draptik/railstutorial</a></p>

<p>If you want to have a look at the application: It is currently deployed at <a href="http://heroku.com/">Heroku</a>: <a href="http://draptik-railstutorial.heroku.com/">http://draptik-railstutorial.heroku.com/</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/04/27/using-a-different-minor-mode-prefix-with-rinari-emacs-rails/">Using a Different Minor-mode-prefix With Rinari (Emacs Rails)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-04-27T20:40:27+00:00" pubdate data-updated="true">Apr 27<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://rinari.rubyforge.org/">Rinari</a> is a Ruby on Rails Minor Mode for GNU/Emacs.</p>

<p><strong>Problem:</strong> Most key mappings / keyboard shortcuts rely on the hard coded strings <code>;</code> and <code>'</code> (I.e. <code>C-; f c</code> &ndash;> <code>rinari-find-controller</code>). These prefixes are difficult to access on a German keyboard because they require the shift modifier.</p>

<p><strong>Solution:</strong> The following code adds a comma to the list of rinari-prefix strings. Add it to your GNU/Emacs configuration file (i.e. <code>~/.emacs</code>):</p>

<figure class='code'><figcaption><span>~/.emacs</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='scheme'><span class='line'><span class="p">(</span><span class="nf">add-to-list</span> <span class="ss">&#39;load-path</span> <span class="s">&quot;~/your-path-to-rinari-source-code/rinari&quot;</span><span class="p">)</span>
</span><span class='line'><span class="err">﻿</span><span class="c1">;; This patch must appear before the line &quot;(require &#39;rinari)&quot;!</span>
</span><span class='line'><span class="p">(</span><span class="nf">defvar</span> <span class="nv">rinari-minor-mode-prefixes</span>
</span><span class='line'><span class="p">(</span><span class="nb">list </span><span class="s">&quot;;&quot;</span> <span class="s">&quot;&#39;&quot;</span> <span class="s">&quot;,&quot;</span><span class="p">)</span> <span class="c1">;; CHANGE Added comma to prefix list</span>
</span><span class='line'>     <span class="s">&quot;List of characters, each of which will be bound (with C-c) as a rinari-minor-mode keymap prefix.&quot;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;rinari</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Result: </strong>We can now access the command <code>rinari-find-controller</code> with the key sequence <code>C-c , f c</code>.</p>

<p><strong>Side note:</strong> I&rsquo;m all ears for more Emacs-Lispy solutions to this problem. ;&ndash;)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/01/15/using-basic-emacs-keybindings-in-gnome-terminal/">Using Basic Emacs Keybindings in Gnome-Terminal</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-01-15T22:00:10+00:00" pubdate data-updated="true">Jan 15<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><strong>Summary:</strong> Use basic Emacs keyboard shortcuts (ie navigation) in Gnome-Terminal while using the Bash shell. This post is only interesting for people familiar with Emacs.</p>

<p>This is so simple that I almost afraid to post it&hellip;</p>

<p>&hellip;One of those things that has been bothering you for years(!), but was never urgent enough to invest time figuring out how to fix&hellip;</p>

<p><strong>Problem: </strong></p>

<p>You&rsquo;re used to Emacs shortcuts. Bash (and many other shells) support Emacs keybindings out of the box. But your default terminal comes with a stupid menu bar. So you press <code>M-d</code> (Emacs&#8217; &ldquo;kill-word&rdquo;; for non-Emacs users: this corresponds to the key sequence <code>Alt-d</code>) and end up calling the &ldquo;File&rdquo; menu entry of the Gnome-Terminal (File is called &ldquo;<strong>D</strong>atei&rdquo; in German, which is my LOCAL). If you your LOCAL settings are English, you will have the same problem with the Emacs shortcut <code>M-f</code> (in Emacs this is &ldquo;word-forward&rdquo;): The Gnome-Terminal will grap the key sequence and open the &ldquo;<strong>F</strong>ile&rdquo; menu.</p>

<p><strong>Solution:</strong></p>

<ol>
<li><p> Open your Gnome-Terminal</p></li>
<li><p> Edit &ndash;> Keyboard shortcuts &ndash;> DISABLE ALL MENU ACCESS KEYS (If you have German settings the menu entry is called: &ldquo;Bearbeiten &ndash;> Tastenkombinationen &ndash;> Alle Menükürzel aktivieren&rdquo;. Disable the checkbox..)</p></li>
</ol>


<p>That&rsquo;s it.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/12/08/executing-a-script-after-mounting-a-truecrypt-partition-on-ubuntu-9-10-karmic-koala/">Executing a Script After Mounting a TrueCrypt Partition on Ubuntu 9.10 (Karmic Koala)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-12-08T00:18:40+00:00" pubdate data-updated="true">Dec 8<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><strong>Goal: </strong>Automatically run a script/program of your choice after mounting a TrueCrypt partition on Ubuntu 9.10.</p>

<p><strong>Background info on udev (very short)</strong></p>

<ul>
<li><p>UDEV listens to certain events. Depending on the event, a certain &ldquo;rule&rdquo; can be executed.</p></li>
<li><p>To see some of the default rules, visit <code>lib/udev/rules.d</code> and study those examples.</p></li>
<li><p>Many current GNU/Linux distros use the udev system to manage actions that should happen after automounting.</p></li>
</ul>


<p><strong>Setup</strong></p>

<p>My setup</p>

<p>Your setup might differ! I have a USB stick. Amongst other things, it includes a TrueCrypt partition. I am able to (un)mount the TrueCrypt partition using the TrueCrypt program.</p>

<p>Info required for udev</p>

<p>udev needs a way of identifying your partition. We can use udevadm info (this corresponds to udevinfo in older tutorials) to get this info. I know that my truecrypt partition is always mounted to /media/truecryt1. This is mapped from /dev/mapper/truecrypt1 (have a look at the output of the &ldquo;mount&rdquo; command after mounting truecrypt to see these details).</p>

<p>We need unique infos about the truecrypt partition for udev. To aquire this info, use:
<code>
$ udevadm info -a -p $(udevadm info -q path -n /dev/mapper/truecrypt1)
</code></p>

<p>On my system the output is:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>udevadm info -a -p <span class="k">$(</span>udevadm info -q path -n /dev/mapper/truecrypt1<span class="k">)</span>
</span><span class='line'>Udevadm info starts with the device specified by the devpath and <span class="k">then</span>
</span><span class='line'>walks up the chain of parent devices. It prints <span class="k">for </span>every device
</span><span class='line'>found, all possible attributes in the udev rules key format.
</span><span class='line'>A rule to match, can be composed by the attributes of the device
</span><span class='line'>and the attributes from one single parent device.
</span><span class='line'>
</span><span class='line'>looking at device <span class="s1">&#39;/devices/virtual/block/dm-0&#39;</span>:
</span><span class='line'><span class="nv">KERNEL</span><span class="o">==</span><span class="s2">&quot;dm-0&quot;</span>
</span><span class='line'><span class="nv">SUBSYSTEM</span><span class="o">==</span><span class="s2">&quot;block&quot;</span>
</span><span class='line'><span class="nv">DRIVER</span><span class="o">==</span><span class="s2">&quot;&quot;</span>
</span><span class='line'>ATTR<span class="o">{</span>range<span class="o">}==</span><span class="s2">&quot;1&quot;</span>
</span><span class='line'>ATTR<span class="o">{</span>extrange<span class="o">}==</span><span class="s2">&quot;1&quot;</span>
</span><span class='line'>ATTR<span class="o">{</span>removable<span class="o">}==</span><span class="s2">&quot;0&quot;</span>
</span><span class='line'>ATTR<span class="o">{</span>ro<span class="o">}==</span><span class="s2">&quot;0&quot;</span>
</span><span class='line'>ATTR<span class="o">{</span>size<span class="o">}==</span><span class="s2">&quot;6290941&quot;</span>
</span><span class='line'>ATTR<span class="o">{</span>alignmentoffset<span class="o">}==</span><span class="s2">&quot;0&quot;</span>
</span><span class='line'>ATTR<span class="o">{</span>capability<span class="o">}==</span><span class="s2">&quot;10&quot;</span>
</span><span class='line'>ATTR<span class="o">{</span>stat<span class="o">}==</span><span class="s2">&quot;    6521        0     7172     5870        1        0     1        0        0       70     5870&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Not much unique stuff there. The only thing that looks unique is <code>ATTR{size}=="6290941"</code>. Let&rsquo;s take that.</p>

<p><strong>udev rule</strong></p>

<ul>
<li><p>Go to <code>etc/udev/rules.d</code></p></li>
<li><p>Create a new file <code>85-myrules.rules</code></p></li>
<li><p>Add the following line (adapted to your needs) 
<code>sh
ACTION=="add", KERNEL=="dm-[0-9]*", SUBSYSTEM=="block", ATTR{size}=="6290941", RUN+="/usr/bin/touch /home/your-user-name-here/testcrypt.txt"
</code></p></li>
<li><p>Some notes:</p>

<ul>
<li><p><code>==</code> corresponds to a &ldquo;check&rdquo; (ie check if kernel equals dm-.., check if subsystem equals block, check if attribute-size equals 6290941)</p></li>
<li><p><code>=</code>  corresponds to an assignment</p></li>
<li><p><code>+=</code> corresponds to an assignment</p></li>
</ul>
</li>
</ul>


<p><strong>Test</strong></p>

<ul>
<li><p>Unmount your TrueCrypt volume</p></li>
<li><p>Reload udev: <code>sudo reload udev</code></p></li>
<li><p>Mount your TrueCrypt volume</p></li>
<li><p>Check your home directory: It should now contain a file testcrypt.txt</p></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/10/23/emacsclient-usage-on-a-gnulinux-system/">Emacsclient Usage on a GNU/Linux System</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-10-23T21:31:02+00:00" pubdate data-updated="true">Oct 23<span>rd</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Short instructions on how to setup Emacs using the Emacs Server/Emacs Client system on a GNU/Linux machine.</p>

<p>This post is intended for people familiar with GNU/Emacs.</p>

<p><strong>Requirements:</strong></p>

<p>GNU/Emacs 23 or greater (for Ubuntu get the Emacs PPA: <a href="http://https://launchpad.net/~ubuntu-elisp/+archive/ppa">https://launchpad.net/~ubuntu-elisp/+archive/ppa</a>)</p>

<p><strong>Files to edit:</strong></p>

<p><code>~/.emacs</code>
<code>~/.bashrc</code></p>

<p><strong>System settings using Gnome:</strong></p>

<p>System &ndash;> Einstellungen &ndash;> Startprogramme</p>

<p><strong>For the impatient:</strong></p>

<p>Add this to your <code>~/.bashrc</code>:</p>

<figure class='code'><figcaption><span>~/.bashrc</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nb">export </span><span class="nv">ALTERNATE_EDITOR</span><span class="o">=</span>emacs <span class="nv">EDITOR</span><span class="o">=</span>emacsclient <span class="nv">VISUAL</span><span class="o">=</span>emacsclient
</span><span class='line'><span class="c">## you can always use the command &quot;emacs&quot; instead of &quot;emacsclient -c&quot;</span>
</span><span class='line'><span class="nb">alias </span><span class="nv">emacs</span><span class="o">=</span><span class="s1">&#39;emacsclient -c&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Add this to your <code>~/.emacs</code>:</p>

<figure class='code'><figcaption><span>~/.emacs</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="o">(</span>server-start<span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Add this to your system startup options:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>/path/to/your/emacs --daemon
</span></code></pre></td></tr></table></div></figure>


<p>ie:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>/usr/bin/emacs --daemon
</span></code></pre></td></tr></table></div></figure>


<p>Gnome panel starter:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>/usr/bin/emacsclient -c<span class="err">&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Detailed instructions</strong></p>

<p>Starting Emacs from scratch will always load your init file (default: ~/.emacs). Loading this file can take a few seconds if your init file has grown over the years and if you load many external libraries.</p>

<p>To decrease the load time for situations like this the GNU/Emacs folks have developed the GNU/Emacs daemon and the GNU/Emacs server-client concept.</p>

<p>This concept allows you to attach to an already running session. No matter if you are currently using X or  a TTY session!</p>

<p>Just try it (without changing any settings):</p>

<ol>
<li><p> Start GNU/Emacs from a shell under X: <code>
$ emacs
</code></p></li>
<li><p> Now start the Emacs server from within Emacs: <code>
M-x server-start
</code></p></li>
<li><p> Open a file from within Emacs (it does not have to exist): <code>
C-x C-f ~/deleteme.txt
</code></p></li>
<li><p> Because we started the Emacs server, we can now start the Emacs client with close-to-zero load time:</p></li>
<li><p> Starting the Emacs client from a new shell: <code>
$ emacsclient deleteme-from-shell.txt
</code></p></li>
</ol>


<p>This will open the file &ldquo;deleteme-from-shell.txt&rdquo; in your running Emacs session. Cool, isn&rsquo;t it?</p>

<p><strong>IMPORTANT:</strong> To close the attached Emacs client without killing the Emacs server you have to use &ldquo;C-x #&rdquo; instead of &ldquo;C-x C-c&rdquo;!</p>

<ol>
<li> Starting the Emacs client from a new shell AND opening a new Emacs frame:Same as step 5, but use &ldquo;-c&rdquo;: <code>
$ emacsclient -c deleteme-from-shell.txt
</code></li>
</ol>


<p>Again: Close the client using &ldquo;C-x #&rdquo;! This will close the frame (=window) while keeping the server running.</p>

<ol>
<li> Starting the Emacs client from a new shell AND opening it within the current shell:Same as step 5, but use &ldquo;-t&rdquo;: <code>
$ emacsclient -t deleteme-from-shell.txt
</code></li>
</ol>


<p>This will also work for a true TTY session. An example of a true TTY session can be achieved by switching to TTY-0 (Ctrl+Alt+F1; to return to your graphical display: Ctrl+Alt+F7). Try it:</p>

<p>Ctrl+Alt+F1</p>

<p>Login with username and password, then type</p>

<p><code>
$ emacsclient -t deleteme-from-shell.txt
</code></p>

<p>We are still attached to the same session! Cool!</p>

<p>Switch back to your graphical display: Ctrl+Alt+F7</p>

<ol>
<li><p> The only drawback so far is that we had to start the Emacs server manually from within an Emacs session using &ldquo;M-x server-start&rdquo;. Otherwise &ldquo;emacsclient&rdquo; will complain that it has no server to attach to. So let&rsquo;s include this feature in our Emacs init file (~/.emacs). Add this to your init file: <code>
(server-start)
</code></p></li>
<li><p> The previous step still requires us to start Emacs before we can invoke emacsclient. Let&rsquo;s tell our default shell (ie Bash) to use &ldquo;emacsclient&rdquo; as default. If that doesn&rsquo;t work, our shell should use &ldquo;emacs&rdquo;. Add the following the your ~/.bashrc: <code>
export ALTERNATE_EDITOR=emacs EDITOR=emacsclient VISUAL=emacsclient
</code></p></li>
<li><p>. I prefer to to only use a single command, &ldquo;emacs&rdquo;, and &ldquo;the computer&rdquo; should figure out
IF an Emacs server is running (then I&rsquo;ll use &ldquo;emacsclient&rdquo; to attach to a running Emacs server)</p></li>
</ol>


<p>OR if I have to start a new Emacs session (which, in turn, starts an Emacs server).</p>

<p>You can always use the command <code>emacs</code> instead of <code>emacsclient -c</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nb">alias </span><span class="nv">emacs</span><span class="o">=</span><span class="s1">&#39;emacsclient -c&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<ol>
<li>. Sugar: To be sure to have an Emacs server running, we can add the Emacs daemon to our system startup options. How to add scripts to your startup options differs strongly between different Linux systems. Here&rsquo;s how I did it (using Gnome):&ldquo;System&rdquo; &ndash;> &ldquo;Einstellungen&rdquo; &ndash;> &ldquo;Startprogramme&rdquo;(in English this should correspond to something like &ldquo;System&rdquo; &ndash;> &ldquo;Settings&rdquo; &ndash;> &ldquo;Start programs&rdquo;)I added a new entry with the following content: <code>
/path/to/your/emacs --daemon
</code></li>
</ol>


<p>ie:</p>

<p><code>
/usr/bin/emacs --daemon
</code></p>

<ol>
<li>. Further sugar: To use a Gnome panel starter, just add this program parameter to the starter properties: <code>
/usr/bin/emacsclient -c
</code></li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/07/31/eclipsesubclipse-asks-for-ssh-confirmation-solved/">Eclipse3.5/Subclipse1.6.x Asks for Unnecessary SSH Confirmation and Details (Solved)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-07-31T01:31:08+00:00" pubdate data-updated="true">Jul 31<span>st</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This is one of those &ldquo;notes to self&rdquo;&hellip;</p>

<p>I recently upgraded <a href="http://www.eclipse.org">Eclipse</a> (3.4 &ndash;> 3.5) and <a href="http://subversion.tigris.org/">Subversion</a> (1.5 &ndash;> 1.6).</p>

<p>I never check out my sandbox directly from within Eclipse: I do that from the command line. F.ex.:</p>

<p><code>
$ svn co svn+ssh://myserver.com/myproject sandbox_myproject
</code></p>

<p>From within Eclipse, I then create a new project &ldquo;from existing project&rdquo; and select <code>sandbox_myproject/trunk/project_name</code>.</p>

<p>Eclipse/Subclipse is smart enough to recognize that the project is under version control (after you&rsquo;ve installed <a href="http://subclipse.tigris.org/">Subclipse</a>).</p>

<p>Well, this is all very cool, and works under Windows and Linux.</p>

<p>Until upgrading to Eclipse 3.5 (Galileo).</p>

<p>Suddenly you are asked for SSH Details. Why is that?</p>

<p>If the Command-Line Interface (CLI) knows my SSH-details, why shouldn&rsquo;t Eclipse/Subclipse pick them up? This worked flawlessly with previous version of Eclipse and Subclipse (also with prev. versions of SVN). But no, in Eclipse 3.5 (Galileo), you have to point the Subclipse Interface (1.6.x) directly to <code>~/.ssh/id_dsa</code> (the default location). It does not make any sense to me&hellip; It seems like a regression in functionality. And there is no comment whatsoever on the tigris/subclipse homepage&hellip;.</p>

<p>Just a rant.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/07/28/vmware-keyboard-mapping-issues-alt-gr-solved/">VMware Keyboard Mapping Issues (Alt Gr) Solved</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-07-28T22:27:22+00:00" pubdate data-updated="true">Jul 28<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>If your VMWare keyboard mapping prevents you from using special keys such as Alt Gr, just add the following the your <code>/etc/vmware/config</code>:</p>

<figure class='code'><figcaption><span>/etc/vmware/config</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>xkeymap.keycode.108 <span class="o">=</span> 0x138 <span class="c"># Alt_R</span>
</span><span class='line'>xkeymap.keycode.106 <span class="o">=</span> 0x135 <span class="c"># KP_Divide</span>
</span><span class='line'>xkeymap.keycode.104 <span class="o">=</span> 0x11c <span class="c"># KP_Enter</span>
</span><span class='line'>xkeymap.keycode.111 <span class="o">=</span> 0x148 <span class="c"># Up</span>
</span><span class='line'>xkeymap.keycode.116 <span class="o">=</span> 0x150 <span class="c"># Down</span>
</span><span class='line'>xkeymap.keycode.113 <span class="o">=</span> 0x14b <span class="c"># Left</span>
</span><span class='line'>xkeymap.keycode.114 <span class="o">=</span> 0x14d <span class="c"># Right</span>
</span><span class='line'>xkeymap.keycode.105 <span class="o">=</span> 0x11d <span class="c"># Control_R</span>
</span><span class='line'>xkeymap.keycode.118 <span class="o">=</span> 0x152 <span class="c"># Insert</span>
</span><span class='line'>xkeymap.keycode.119 <span class="o">=</span> 0x153 <span class="c"># Delete</span>
</span><span class='line'>xkeymap.keycode.110 <span class="o">=</span> 0x147 <span class="c"># Home</span>
</span><span class='line'>xkeymap.keycode.115 <span class="o">=</span> 0x14f <span class="c"># End</span>
</span><span class='line'>xkeymap.keycode.112 <span class="o">=</span> 0x149 <span class="c"># Prior</span>
</span><span class='line'>xkeymap.keycode.117 <span class="o">=</span> 0x151 <span class="c"># Next</span>
</span><span class='line'>xkeymap.keycode.78 <span class="o">=</span> 0x46 <span class="c"># Scroll_Lock</span>
</span><span class='line'>xkeymap.keycode.127 <span class="o">=</span> 0x100 <span class="c"># Pause</span>
</span><span class='line'>xkeymap.keycode.133 <span class="o">=</span> 0x15b <span class="c"># Meta_L</span>
</span><span class='line'>xkeymap.keycode.134 <span class="o">=</span> 0x15c <span class="c"># Meta_R</span>
</span><span class='line'>xkeymap.keycode.135 <span class="o">=</span> 0x15d <span class="c"># Menu</span>
</span></code></pre></td></tr></table></div></figure>


<p>I found this solution on the <a href="http://forum.ubuntuusers.de/topic/vmware-alt-gr-und-andere-tastaturproblem-unte/">German Ubuntu forum</a>.</p>

<p>This worked with VMware-server-2.0.1-156745 in combination with host OS Ubuntu 9.04 and guest OS Windows XP SP3.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/7/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/5/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2018/11/29/fsharp-linux-mixed-feelings/">F# Linux: Mixed Feelings</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/08/21/intellij-gnome-keyboard-shortcut-conflict-ctrl-alt-s/">IntelliJ and Gnome Keyboard Shortcut Conflict: Ctrl Alt S</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/03/15/that-moment/">Rewarding Moments During Lunch & Learn&#8230;</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/02/20/visual-studios-default-path-for-new-projects/">Visual Studio&#8217;s Default Path for New Projects</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/02/07/fsharp-test-setup-for-fizzbuzz/">F# Test Setup for FizzBuzz</a>
      </li>
    
  </ul>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2009 - 2018 - Patrick Drechsler  
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'draptik';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
